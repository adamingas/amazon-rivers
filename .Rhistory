setwd("~/Thesis")
library(vegan)
library(ape)
library(dplyr)
data(varespec)
varespec %>%
metaMDS(trace = F) %>%
ordiplot(type = "none") %>%
text("sites")
df
data = read.table(file = "WWF_Peru_for_BenCalderhead.csv",sep = ",",stringsAsFactors = FALSE)
otu <- as.data.frame(x=data, row.names = data[,1])[-1,]
otu
head(otu)
data = read.table(file = "WWF_Peru_for_BenCalderhead.csv",sep = ",",stringsAsFactors = FALSE)
data
colnames(data) <- data[1,]
otu <- as.data.frame(x=data[-1,], row.names = data[,1])
colnames(data) <- data[1,]
otu <- as.data.frame(x=data[-1,], row.names = data[-1,1])
View(otu)
wwf =read.table(file = "WWF_Samples.txt",header =TRUE,sep = "\t")
View(wwf)
otu.T
otu.t
data.t
t(data)
head(t(data))
data = read.table(file = "WWF_Peru_for_BenCalderhead.csv",sep = ",",stringsAsFactors = FALSE)
data = read.table(file = "WWF_Peru_for_BenCalderhead.csv",sep = ",",stringsAsFactors = FALSE)
head(t(data))
t(otu)
view(t(otu))
View(t(otu))
View(t(data))
t(data)[-seq(1,8),]
View(varespec)
otutable<- t(data)[-seq(1,8),-1]
colnames(otutable) <- t(data)[1,-1]
otudf <- as.data.frame(x=otutable,row.names = t(data)[-seq(1,8),1])
View(otudf)
colnames(wwf)
wwf$River
wwf =read.table(file = "WWF_Samples.txt",header =TRUE,sep = "\t")
colnames(wwf)
wwf$Area_group
wwf$Area_group_name
wwf$ID
wwfdf <- as.data.frame(x=wwf,row.names=wwf$ID)
wwf$ID
wwf =read.table(file = "WWF_Samples.txt",header =TRUE,sep = "\t",stringsAsFactors = FALSE)
wwfdf <- as.data.frame(x=wwf,row.names=wwf$ID)
wwfdf$ID
wwfdf
wwfdf
wwfd <- as.data.frame(x=wwf,row.names=wwf$ID)
wwfd
wwf$ID
wwfd <- as.data.frame(x=wwf)
wwfd
merge(otudf,wwfd$Area_group_name,by.y = wwf$ID)
merge(otudf,wwfd,by.y = wwfd$ID)
names(otudf)
otudf.df <- data.frame(names =names(otudf),otudf=otudf)
merge(otudf,wwfd,by.x =0,by.y = wwfd$ID)
merge(otudf,wwfd,by.x =0,by.y = "ID")
merge(otudf,wwfd,by.x =0,by.y = "ID")
merged <- merge(otudf,wwfd,by.x =0,by.y = "ID")
View(merged)
wwfd
wwfd$0
wwfd[0]
wwfd[,0]
wwfd$ID
wwfd$ID == otudf$0
otudf$0
otudf[]
otudf
data = read.table(file = "WWF_Peru_for_BenCalderhead.csv",sep = ",",stringsAsFactors = FALSE)
otutable<- t(data)[-seq(1,8),-1]
colnames(otutable) <- t(data)[1,-1]
otudf <- as.data.frame(x=otutable,row.names = t(data)[-seq(1,8),1])
otudf
otudf["3-S01c",]
t(data)[1,-1]
cbind("ID",t(data)[1,-1])
c("ID",t(data)[1,-1])
data = read.table(file = "WWF_Peru_for_BenCalderhead.csv",sep = ",",stringsAsFactors = FALSE)
otutable<- t(data)[-seq(1,8),]
colnames(otutable) <- c("ID",t(data)[1,-1])
otudf <- as.data.frame(x=otutable)
otudf
otudf$ID
data = read.table(file = "WWF_Peru_for_BenCalderhead.csv",sep = ",",stringsAsFactors = FALSE)
otutable<- t(data)[-seq(1,8),]
colnames(otutable) <- c("ID",t(data)[1,-1])
otudf <- as.data.frame(x=otutable)
otudf$ID
as.string(otudf$ID)
as.character(otudf$ID)
otutable$ID
otutable
otutable["ID"]
otutable[,"ID"]
otudf$ID <- as.character(otudf$ID)
merge(otudf,wwfd,by.x = "ID",by.y ="ID")
otum<- merge(otudf,wwfd,by.x = "ID",by.y ="ID")
wwfd[c("ID","Area_group_name")]
otum<- merge(otudf,wwfd[c("ID","Area_group_name")],by.x = "ID",by.y ="ID")
View(otum)
r
varespec %>%
metaMDS(trace = F) %>%
ordiplot(type = "none") %>%
text("sites")
varespec %>%
metaMDS(trace = F) %>%
ordiplot(type = "none")
varespec %>%
metaMDS(trace = F) %>%
ordiplot(type = "none")
otum %>%
metaMDS(trace = F) %>%
ordiplot(type = "none") %>%
text("Area_group_name")
otum[-"Area_group_name"] %>%
metaMDS(trace = F) %>%
ordiplot(type = "none") %>%
text("sites")
otum[-"Area_group_name"]
otum[-c("Area_group_name","ID")]
otum[,-c("Area_group_name","ID")]
otum
otum[,!c("Area_group_name","ID")]
otum[!c("Area_group_name","ID")]
%in%
"E" %in% "E"
names(otum) %in% c("Area_group_name","ID")
exclude <-names(otum) %in% c("Area_group_name","ID")
otum[!exclude]
otum[!exclude]  %>%
metaMDS(trace = F) %>%
ordiplot(type = "none") %>%
text("sites")
otum[!exclude]
View(otum[!exclude] )
as.integer(otum)
as.integers(otum)
otutable<- t(data)[-seq(1,8),]
colnames(otutable) <- c("ID",t(data)[1,-1])
otudf <- as.data.frame(x=otutable,stringsAsFactors=FALSE)
otudf$ID
otum<- merge(otudf,wwfd[c("ID","Area_group_name")],by.x = "ID",by.y ="ID")
otum[!exclude]  %>%
metaMDS(trace = F) %>%
ordiplot(type = "none") %>%
text("sites")
otum[,2]
otudf[,2]
otutable[,2]
otutable[,-1]
otutable[,-1]<- sapply(otutable[,-1], as.numeric)
otudf <- as.data.frame(x=otutable,stringsAsFactors=FALSE)
otudf[,2]
otudf[,3]
otutable[,2]
otutable[,-1]<- sapply(otutable[,-1], as.numeric)
otutable[,-1]
otutable[1,2]
otutable[1,2] -1
as.numeric(otutab)
as.numeric(otutable[,-1])
sapply(otutable[,-1], as.numeric)
otutable[,-1]
is.numeric(otutable[,-1])
is.numeric(sapply(otutable[,-1], as.numeric))
aaa <-sapply(otutable[,-1], as.numeric)
aaa
otutable[,-1]<-aaa
otutable[,-1]
#otudf$ID <- as.character(otudf$ID)
otudf[,-1]<- sapply(otudf[,-1], as.numeric)
otudf[,-1]
otum<- merge(otudf,wwfd[c("ID","Area_group_name")],by.x = "ID",by.y ="ID")
otum[,2]
otum[!exclude]  %>%
metaMDS(trace = F) %>%
ordiplot(type = "none") %>%
text("sites")
otum[!exclude]  %>%
metaMDS(trace = F) %>%
ordiplot(type = "none") %>%
text("sits")
PCA <- rda(varespec, scale = FALSE)
PCA
# Now plot a bar plot of relative eigenvalues. This is the percentage variance explained by each axis
barplot(as.vector(PCA$CA$eig)/sum(PCA$CA$eig))
PCA$CA
# Calculate the percent of variance explained by first two axes
sum((as.vector(PCA$CA$eig)/sum(PCA$CA$eig))[1:2]) # 79%, this is ok.
# Now, we`ll plot our results with the plot function
plot(PCA)
plot(PCA, display = "sites", type = "points")
plot(PCA, display = "species", type = "text")
